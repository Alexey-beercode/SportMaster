<!-- –•–µ–¥–µ—Ä -->
<app-header title="–ü—Ä–æ—Ñ–∏–ª—å"></app-header>

<div class="profile-container">
  <!-- –ö–∞—Ä—Ç–æ—á–∫–∞ —Å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π –æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ -->
  <section class="user-info-card" *ngIf="userData">
    <h2 class="section-title">üë§ –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ</h2>
    <p><strong>–ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:</strong> {{ userData.username }}</p>
    <p><strong>Email:</strong> {{ userData.email }}</p>
    <p><strong>–í–æ–∑—Ä–∞—Å—Ç:</strong> {{ userData.age }} –ª–µ—Ç</p>
    <p><strong>–†–æ—Å—Ç:</strong> {{ userData.height }} —Å–º</p>
    <p><strong>–í–µ—Å:</strong> {{ userData.weight }} –∫–≥</p>
    <p><strong>–¶–µ–ª—å –ø–æ —à–∞–≥–∞–º:</strong> {{ userData.dailyStepGoal }} —à–∞–≥–æ–≤</p>
    <p><strong>–¶–µ–ª—å –ø–æ –≤–æ–¥–µ:</strong> {{ userData.dailyWaterGoal }} —Å—Ç–∞–∫–∞–Ω–æ–≤</p>

    <button class="history-button" (click)="openEditModal()">‚úèÔ∏è –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å</button>
    <button class="history-button" (click)="openActionHistoryModal()">üïí –ò—Å—Ç–æ—Ä–∏—è –¥–µ–π—Å—Ç–≤–∏–π</button>
  </section>

  <!-- –ú–æ–¥–∞–ª–∫–∞ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –ø—Ä–æ—Ñ–∏–ª—è -->
  <app-edit-user-modal
    *ngIf="isEditModalOpen"
    [userData]="userData!"
    (close)="closeEditModal()"
  ></app-edit-user-modal>

  <!-- –ú–æ–¥–∞–ª–∫–∞ –∏—Å—Ç–æ—Ä–∏–∏ –¥–µ–π—Å—Ç–≤–∏–π -->
  <app-action-history-modal
    *ngIf="showActionHistoryModal"
    [userId]="userId"
    (close)="closeActionHistoryModal()"
  ></app-action-history-modal>

  <!-- –ë–ª–æ–∫ —Ü–µ–ª–µ–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è -->
  <section class="goals-section">
    <h2 class="section-title">üéØ –í–∞—à–∏ —Ü–µ–ª–∏</h2>

    <!-- –ö–Ω–æ–ø–∫–∞ –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –Ω–æ–≤–æ–π —Ü–µ–ª–∏ -->
    <button class="add-goal-button" (click)="openAddGoalModal()">
      ‚ûï –î–æ–±–∞–≤–∏—Ç—å —Ü–µ–ª—å
    </button>

    <!-- –°–ø–∏—Å–æ–∫ —Ü–µ–ª–µ–π -->
    <div *ngIf="goals.length > 0; else noGoals">
      <app-goal-progress
      ></app-goal-progress>
    </div>
    <ng-template #noGoals>
      <p>–¶–µ–ª–∏ –ø–æ–∫–∞ –Ω–µ –∑–∞–¥–∞–Ω—ã.</p>
    </ng-template>
  </section>

  <!-- –ö–æ–º–ø–æ–Ω–µ–Ω—Ç –º–æ–¥–∞–ª–∫–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è —Ü–µ–ª–∏ -->
  <app-add-goal
    *ngIf="showAddGoalModal"
    [userId]="userId"
    (goalAdded)="onGoalAdded()"
    (close)="closeAddGoalModal()"
  ></app-add-goal>

  <!-- –ë–ª–æ–∫ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π -->
  <section class="recommendations-section">
    <h2 class="section-title">üì¢ –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è</h2>
    <app-recommendation [userId]="userId"></app-recommendation>
  </section>
</div>
