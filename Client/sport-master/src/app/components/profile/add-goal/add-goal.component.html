<!-- Бэкдроп для закрытия модалки -->
<div class="backdrop" (click)="close.emit()">
  <!-- Модалка добавления цели -->
  <div class="add-goal-modal" (click)="$event.stopPropagation()">
    <h2 class="modal-title">Добавить цель</h2>

    <form [formGroup]="addGoalForm" (ngSubmit)="onSubmit()" class="goal-form">
      <!-- Тип цели -->
      <label for="goalType">Тип цели</label>
      <select id="goalType" formControlName="goalType">
        <option *ngFor="let type of goalTypes" [value]="type.value">
          {{ type.label }}
        </option>
      </select>
      <div *ngIf="isFieldInvalid('goalType')" class="error-message">
        Тип цели обязателен
      </div>

      <!-- Суточное потребление калорий -->
      <label for="dailyCalorieIntake">Потребление калорий</label>
      <input
        type="number"
        id="dailyCalorieIntake"
        formControlName="dailyCalorieIntake"
        placeholder="Введите суточную норму калорий"
      />
      <div *ngIf="isFieldInvalid('dailyCalorieIntake')" class="error-message">
        Некорректное количество калорий
      </div>

      <!-- Суточное сжигание калорий -->
      <label for="dailyCalorieBurn">Сжигание калорий</label>
      <input
        type="number"
        id="dailyCalorieBurn"
        formControlName="dailyCalorieBurn"
        placeholder="Введите норму сжигания калорий"
      />
      <div *ngIf="isFieldInvalid('dailyCalorieBurn')" class="error-message">
        Некорректное количество калорий
      </div>

      <!-- Целевой вес (необязательно) -->
      <label for="targetWeight">Целевой вес (кг, опционально)</label>
      <input
        type="number"
        id="targetWeight"
        formControlName="targetWeight"
        placeholder="Введите целевой вес"
      />

      <!-- Кнопки -->
      <div class="form-actions">
        <button type="submit" class="btn-submit">Добавить цель</button>
        <button type="button" class="btn-cancel" (click)="close.emit()">
          Отмена
        </button>
      </div>
    </form>
  </div>
</div>
